version: 2
jobs:
  
  "build 3.7.0-10.10.0-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.7.0-10.10.0-stretch dockerfiles/3.7.0-10.10.0-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.7.0-10.10.0-stretch python --version
            docker run airhorns/python-node:3.7.0-10.10.0-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.7.0-10.10.0-stretch

            
            docker tag airhorns/python-node:3.7.0-10.10.0-stretch latest-latest-stretch
            docker push airhorns/python-node:latest-latest-stretch
            
            docker tag airhorns/python-node:3.7.0-10.10.0-stretch latest-latest
            docker push airhorns/python-node:latest-latest
            
            docker tag airhorns/python-node:3.7.0-10.10.0-stretch latest-10-stretch
            docker push airhorns/python-node:latest-10-stretch
            
            docker tag airhorns/python-node:3.7.0-10.10.0-stretch latest-10
            docker push airhorns/python-node:latest-10
            
            docker tag airhorns/python-node:3.7.0-10.10.0-stretch 3-latest-stretch
            docker push airhorns/python-node:3-latest-stretch
            
            docker tag airhorns/python-node:3.7.0-10.10.0-stretch 3-latest
            docker push airhorns/python-node:3-latest
            
            docker tag airhorns/python-node:3.7.0-10.10.0-stretch 3-10-stretch
            docker push airhorns/python-node:3-10-stretch
            
            docker tag airhorns/python-node:3.7.0-10.10.0-stretch 3-10
            docker push airhorns/python-node:3-10
            
            docker tag airhorns/python-node:3.7.0-10.10.0-stretch 3.7-latest-stretch
            docker push airhorns/python-node:3.7-latest-stretch
            
            docker tag airhorns/python-node:3.7.0-10.10.0-stretch 3.7-latest
            docker push airhorns/python-node:3.7-latest
            
            docker tag airhorns/python-node:3.7.0-10.10.0-stretch 3.7-10-stretch
            docker push airhorns/python-node:3.7-10-stretch
            
            docker tag airhorns/python-node:3.7.0-10.10.0-stretch 3.7-10
            docker push airhorns/python-node:3.7-10
            
  
  "build 3.7.0-8.12.0-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.7.0-8.12.0-stretch dockerfiles/3.7.0-8.12.0-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.7.0-8.12.0-stretch python --version
            docker run airhorns/python-node:3.7.0-8.12.0-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.7.0-8.12.0-stretch

            
            docker tag airhorns/python-node:3.7.0-8.12.0-stretch latest-8-stretch
            docker push airhorns/python-node:latest-8-stretch
            
            docker tag airhorns/python-node:3.7.0-8.12.0-stretch latest-8
            docker push airhorns/python-node:latest-8
            
            docker tag airhorns/python-node:3.7.0-8.12.0-stretch 3-8-stretch
            docker push airhorns/python-node:3-8-stretch
            
            docker tag airhorns/python-node:3.7.0-8.12.0-stretch 3-8
            docker push airhorns/python-node:3-8
            
            docker tag airhorns/python-node:3.7.0-8.12.0-stretch 3.7-8-stretch
            docker push airhorns/python-node:3.7-8-stretch
            
            docker tag airhorns/python-node:3.7.0-8.12.0-stretch 3.7-8
            docker push airhorns/python-node:3.7-8
            
  
  "build 3.7.0-6.14.4-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.7.0-6.14.4-stretch dockerfiles/3.7.0-6.14.4-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.7.0-6.14.4-stretch python --version
            docker run airhorns/python-node:3.7.0-6.14.4-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.7.0-6.14.4-stretch

            
            docker tag airhorns/python-node:3.7.0-6.14.4-stretch latest-6-stretch
            docker push airhorns/python-node:latest-6-stretch
            
            docker tag airhorns/python-node:3.7.0-6.14.4-stretch latest-6
            docker push airhorns/python-node:latest-6
            
            docker tag airhorns/python-node:3.7.0-6.14.4-stretch 3-6-stretch
            docker push airhorns/python-node:3-6-stretch
            
            docker tag airhorns/python-node:3.7.0-6.14.4-stretch 3-6
            docker push airhorns/python-node:3-6
            
            docker tag airhorns/python-node:3.7.0-6.14.4-stretch 3.7-6-stretch
            docker push airhorns/python-node:3.7-6-stretch
            
            docker tag airhorns/python-node:3.7.0-6.14.4-stretch 3.7-6
            docker push airhorns/python-node:3.7-6
            
  
  "build 3.6.6-10.10.0-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.6.6-10.10.0-stretch dockerfiles/3.6.6-10.10.0-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.6.6-10.10.0-stretch python --version
            docker run airhorns/python-node:3.6.6-10.10.0-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.6.6-10.10.0-stretch

            
            docker tag airhorns/python-node:3.6.6-10.10.0-stretch 3.6-latest-stretch
            docker push airhorns/python-node:3.6-latest-stretch
            
            docker tag airhorns/python-node:3.6.6-10.10.0-stretch 3.6-latest
            docker push airhorns/python-node:3.6-latest
            
            docker tag airhorns/python-node:3.6.6-10.10.0-stretch 3.6-10-stretch
            docker push airhorns/python-node:3.6-10-stretch
            
            docker tag airhorns/python-node:3.6.6-10.10.0-stretch 3.6-10
            docker push airhorns/python-node:3.6-10
            
  
  "build 3.6.6-8.12.0-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.6.6-8.12.0-stretch dockerfiles/3.6.6-8.12.0-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.6.6-8.12.0-stretch python --version
            docker run airhorns/python-node:3.6.6-8.12.0-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.6.6-8.12.0-stretch

            
            docker tag airhorns/python-node:3.6.6-8.12.0-stretch 3.6-8-stretch
            docker push airhorns/python-node:3.6-8-stretch
            
            docker tag airhorns/python-node:3.6.6-8.12.0-stretch 3.6-8
            docker push airhorns/python-node:3.6-8
            
  
  "build 3.6.6-6.14.4-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.6.6-6.14.4-stretch dockerfiles/3.6.6-6.14.4-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.6.6-6.14.4-stretch python --version
            docker run airhorns/python-node:3.6.6-6.14.4-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.6.6-6.14.4-stretch

            
            docker tag airhorns/python-node:3.6.6-6.14.4-stretch 3.6-6-stretch
            docker push airhorns/python-node:3.6-6-stretch
            
            docker tag airhorns/python-node:3.6.6-6.14.4-stretch 3.6-6
            docker push airhorns/python-node:3.6-6
            
  
  "build 3.5.6-10.10.0-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.5.6-10.10.0-stretch dockerfiles/3.5.6-10.10.0-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.5.6-10.10.0-stretch python --version
            docker run airhorns/python-node:3.5.6-10.10.0-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.5.6-10.10.0-stretch

            
            docker tag airhorns/python-node:3.5.6-10.10.0-stretch 3.5-latest-stretch
            docker push airhorns/python-node:3.5-latest-stretch
            
            docker tag airhorns/python-node:3.5.6-10.10.0-stretch 3.5-latest
            docker push airhorns/python-node:3.5-latest
            
            docker tag airhorns/python-node:3.5.6-10.10.0-stretch 3.5-10-stretch
            docker push airhorns/python-node:3.5-10-stretch
            
            docker tag airhorns/python-node:3.5.6-10.10.0-stretch 3.5-10
            docker push airhorns/python-node:3.5-10
            
  
  "build 3.5.6-8.12.0-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.5.6-8.12.0-stretch dockerfiles/3.5.6-8.12.0-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.5.6-8.12.0-stretch python --version
            docker run airhorns/python-node:3.5.6-8.12.0-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.5.6-8.12.0-stretch

            
            docker tag airhorns/python-node:3.5.6-8.12.0-stretch 3.5-8-stretch
            docker push airhorns/python-node:3.5-8-stretch
            
            docker tag airhorns/python-node:3.5.6-8.12.0-stretch 3.5-8
            docker push airhorns/python-node:3.5-8
            
  
  "build 3.5.6-6.14.4-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.5.6-6.14.4-stretch dockerfiles/3.5.6-6.14.4-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.5.6-6.14.4-stretch python --version
            docker run airhorns/python-node:3.5.6-6.14.4-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.5.6-6.14.4-stretch

            
            docker tag airhorns/python-node:3.5.6-6.14.4-stretch 3.5-6-stretch
            docker push airhorns/python-node:3.5-6-stretch
            
            docker tag airhorns/python-node:3.5.6-6.14.4-stretch 3.5-6
            docker push airhorns/python-node:3.5-6
            
  
  "build 2.7.15-10.10.0-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:2.7.15-10.10.0-stretch dockerfiles/2.7.15-10.10.0-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:2.7.15-10.10.0-stretch python --version
            docker run airhorns/python-node:2.7.15-10.10.0-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:2.7.15-10.10.0-stretch

            
            docker tag airhorns/python-node:2.7.15-10.10.0-stretch 2-latest-stretch
            docker push airhorns/python-node:2-latest-stretch
            
            docker tag airhorns/python-node:2.7.15-10.10.0-stretch 2-latest
            docker push airhorns/python-node:2-latest
            
            docker tag airhorns/python-node:2.7.15-10.10.0-stretch 2-10-stretch
            docker push airhorns/python-node:2-10-stretch
            
            docker tag airhorns/python-node:2.7.15-10.10.0-stretch 2-10
            docker push airhorns/python-node:2-10
            
            docker tag airhorns/python-node:2.7.15-10.10.0-stretch 2.7-latest-stretch
            docker push airhorns/python-node:2.7-latest-stretch
            
            docker tag airhorns/python-node:2.7.15-10.10.0-stretch 2.7-latest
            docker push airhorns/python-node:2.7-latest
            
            docker tag airhorns/python-node:2.7.15-10.10.0-stretch 2.7-10-stretch
            docker push airhorns/python-node:2.7-10-stretch
            
            docker tag airhorns/python-node:2.7.15-10.10.0-stretch 2.7-10
            docker push airhorns/python-node:2.7-10
            
  
  "build 2.7.15-8.12.0-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:2.7.15-8.12.0-stretch dockerfiles/2.7.15-8.12.0-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:2.7.15-8.12.0-stretch python --version
            docker run airhorns/python-node:2.7.15-8.12.0-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:2.7.15-8.12.0-stretch

            
            docker tag airhorns/python-node:2.7.15-8.12.0-stretch 2-8-stretch
            docker push airhorns/python-node:2-8-stretch
            
            docker tag airhorns/python-node:2.7.15-8.12.0-stretch 2-8
            docker push airhorns/python-node:2-8
            
            docker tag airhorns/python-node:2.7.15-8.12.0-stretch 2.7-8-stretch
            docker push airhorns/python-node:2.7-8-stretch
            
            docker tag airhorns/python-node:2.7.15-8.12.0-stretch 2.7-8
            docker push airhorns/python-node:2.7-8
            
  
  "build 2.7.15-6.14.4-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:2.7.15-6.14.4-stretch dockerfiles/2.7.15-6.14.4-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:2.7.15-6.14.4-stretch python --version
            docker run airhorns/python-node:2.7.15-6.14.4-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:2.7.15-6.14.4-stretch

            
            docker tag airhorns/python-node:2.7.15-6.14.4-stretch 2-6-stretch
            docker push airhorns/python-node:2-6-stretch
            
            docker tag airhorns/python-node:2.7.15-6.14.4-stretch 2-6
            docker push airhorns/python-node:2-6
            
            docker tag airhorns/python-node:2.7.15-6.14.4-stretch 2.7-6-stretch
            docker push airhorns/python-node:2.7-6-stretch
            
            docker tag airhorns/python-node:2.7.15-6.14.4-stretch 2.7-6
            docker push airhorns/python-node:2.7-6
            
  
  "build 3.7.0-10.10.0-slim-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.7.0-10.10.0-slim-stretch dockerfiles/3.7.0-10.10.0-slim-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.7.0-10.10.0-slim-stretch python --version
            docker run airhorns/python-node:3.7.0-10.10.0-slim-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.7.0-10.10.0-slim-stretch

            
            docker tag airhorns/python-node:3.7.0-10.10.0-slim-stretch latest-latest-slim-stretch
            docker push airhorns/python-node:latest-latest-slim-stretch
            
            docker tag airhorns/python-node:3.7.0-10.10.0-slim-stretch latest-10-slim-stretch
            docker push airhorns/python-node:latest-10-slim-stretch
            
            docker tag airhorns/python-node:3.7.0-10.10.0-slim-stretch 3-latest-slim-stretch
            docker push airhorns/python-node:3-latest-slim-stretch
            
            docker tag airhorns/python-node:3.7.0-10.10.0-slim-stretch 3-10-slim-stretch
            docker push airhorns/python-node:3-10-slim-stretch
            
            docker tag airhorns/python-node:3.7.0-10.10.0-slim-stretch 3.7-latest-slim-stretch
            docker push airhorns/python-node:3.7-latest-slim-stretch
            
            docker tag airhorns/python-node:3.7.0-10.10.0-slim-stretch 3.7-10-slim-stretch
            docker push airhorns/python-node:3.7-10-slim-stretch
            
  
  "build 3.7.0-8.12.0-slim-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.7.0-8.12.0-slim-stretch dockerfiles/3.7.0-8.12.0-slim-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.7.0-8.12.0-slim-stretch python --version
            docker run airhorns/python-node:3.7.0-8.12.0-slim-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.7.0-8.12.0-slim-stretch

            
            docker tag airhorns/python-node:3.7.0-8.12.0-slim-stretch latest-8-slim-stretch
            docker push airhorns/python-node:latest-8-slim-stretch
            
            docker tag airhorns/python-node:3.7.0-8.12.0-slim-stretch 3-8-slim-stretch
            docker push airhorns/python-node:3-8-slim-stretch
            
            docker tag airhorns/python-node:3.7.0-8.12.0-slim-stretch 3.7-8-slim-stretch
            docker push airhorns/python-node:3.7-8-slim-stretch
            
  
  "build 3.7.0-6.14.4-slim-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.7.0-6.14.4-slim-stretch dockerfiles/3.7.0-6.14.4-slim-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.7.0-6.14.4-slim-stretch python --version
            docker run airhorns/python-node:3.7.0-6.14.4-slim-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.7.0-6.14.4-slim-stretch

            
            docker tag airhorns/python-node:3.7.0-6.14.4-slim-stretch latest-6-slim-stretch
            docker push airhorns/python-node:latest-6-slim-stretch
            
            docker tag airhorns/python-node:3.7.0-6.14.4-slim-stretch 3-6-slim-stretch
            docker push airhorns/python-node:3-6-slim-stretch
            
            docker tag airhorns/python-node:3.7.0-6.14.4-slim-stretch 3.7-6-slim-stretch
            docker push airhorns/python-node:3.7-6-slim-stretch
            
  
  "build 3.6.6-10.10.0-slim-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.6.6-10.10.0-slim-stretch dockerfiles/3.6.6-10.10.0-slim-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.6.6-10.10.0-slim-stretch python --version
            docker run airhorns/python-node:3.6.6-10.10.0-slim-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.6.6-10.10.0-slim-stretch

            
            docker tag airhorns/python-node:3.6.6-10.10.0-slim-stretch 3.6-latest-slim-stretch
            docker push airhorns/python-node:3.6-latest-slim-stretch
            
            docker tag airhorns/python-node:3.6.6-10.10.0-slim-stretch 3.6-10-slim-stretch
            docker push airhorns/python-node:3.6-10-slim-stretch
            
  
  "build 3.6.6-8.12.0-slim-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.6.6-8.12.0-slim-stretch dockerfiles/3.6.6-8.12.0-slim-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.6.6-8.12.0-slim-stretch python --version
            docker run airhorns/python-node:3.6.6-8.12.0-slim-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.6.6-8.12.0-slim-stretch

            
            docker tag airhorns/python-node:3.6.6-8.12.0-slim-stretch 3.6-8-slim-stretch
            docker push airhorns/python-node:3.6-8-slim-stretch
            
  
  "build 3.6.6-6.14.4-slim-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.6.6-6.14.4-slim-stretch dockerfiles/3.6.6-6.14.4-slim-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.6.6-6.14.4-slim-stretch python --version
            docker run airhorns/python-node:3.6.6-6.14.4-slim-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.6.6-6.14.4-slim-stretch

            
            docker tag airhorns/python-node:3.6.6-6.14.4-slim-stretch 3.6-6-slim-stretch
            docker push airhorns/python-node:3.6-6-slim-stretch
            
  
  "build 3.5.6-10.10.0-slim-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.5.6-10.10.0-slim-stretch dockerfiles/3.5.6-10.10.0-slim-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.5.6-10.10.0-slim-stretch python --version
            docker run airhorns/python-node:3.5.6-10.10.0-slim-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.5.6-10.10.0-slim-stretch

            
            docker tag airhorns/python-node:3.5.6-10.10.0-slim-stretch 3.5-latest-slim-stretch
            docker push airhorns/python-node:3.5-latest-slim-stretch
            
            docker tag airhorns/python-node:3.5.6-10.10.0-slim-stretch 3.5-10-slim-stretch
            docker push airhorns/python-node:3.5-10-slim-stretch
            
  
  "build 3.5.6-8.12.0-slim-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.5.6-8.12.0-slim-stretch dockerfiles/3.5.6-8.12.0-slim-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.5.6-8.12.0-slim-stretch python --version
            docker run airhorns/python-node:3.5.6-8.12.0-slim-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.5.6-8.12.0-slim-stretch

            
            docker tag airhorns/python-node:3.5.6-8.12.0-slim-stretch 3.5-8-slim-stretch
            docker push airhorns/python-node:3.5-8-slim-stretch
            
  
  "build 3.5.6-6.14.4-slim-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.5.6-6.14.4-slim-stretch dockerfiles/3.5.6-6.14.4-slim-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.5.6-6.14.4-slim-stretch python --version
            docker run airhorns/python-node:3.5.6-6.14.4-slim-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.5.6-6.14.4-slim-stretch

            
            docker tag airhorns/python-node:3.5.6-6.14.4-slim-stretch 3.5-6-slim-stretch
            docker push airhorns/python-node:3.5-6-slim-stretch
            
  
  "build 2.7.15-10.10.0-slim-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:2.7.15-10.10.0-slim-stretch dockerfiles/2.7.15-10.10.0-slim-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:2.7.15-10.10.0-slim-stretch python --version
            docker run airhorns/python-node:2.7.15-10.10.0-slim-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:2.7.15-10.10.0-slim-stretch

            
            docker tag airhorns/python-node:2.7.15-10.10.0-slim-stretch 2-latest-slim-stretch
            docker push airhorns/python-node:2-latest-slim-stretch
            
            docker tag airhorns/python-node:2.7.15-10.10.0-slim-stretch 2-10-slim-stretch
            docker push airhorns/python-node:2-10-slim-stretch
            
            docker tag airhorns/python-node:2.7.15-10.10.0-slim-stretch 2.7-latest-slim-stretch
            docker push airhorns/python-node:2.7-latest-slim-stretch
            
            docker tag airhorns/python-node:2.7.15-10.10.0-slim-stretch 2.7-10-slim-stretch
            docker push airhorns/python-node:2.7-10-slim-stretch
            
  
  "build 2.7.15-8.12.0-slim-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:2.7.15-8.12.0-slim-stretch dockerfiles/2.7.15-8.12.0-slim-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:2.7.15-8.12.0-slim-stretch python --version
            docker run airhorns/python-node:2.7.15-8.12.0-slim-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:2.7.15-8.12.0-slim-stretch

            
            docker tag airhorns/python-node:2.7.15-8.12.0-slim-stretch 2-8-slim-stretch
            docker push airhorns/python-node:2-8-slim-stretch
            
            docker tag airhorns/python-node:2.7.15-8.12.0-slim-stretch 2.7-8-slim-stretch
            docker push airhorns/python-node:2.7-8-slim-stretch
            
  
  "build 2.7.15-6.14.4-slim-stretch":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:2.7.15-6.14.4-slim-stretch dockerfiles/2.7.15-6.14.4-slim-stretch/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:2.7.15-6.14.4-slim-stretch python --version
            docker run airhorns/python-node:2.7.15-6.14.4-slim-stretch node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:2.7.15-6.14.4-slim-stretch

            
            docker tag airhorns/python-node:2.7.15-6.14.4-slim-stretch 2-6-slim-stretch
            docker push airhorns/python-node:2-6-slim-stretch
            
            docker tag airhorns/python-node:2.7.15-6.14.4-slim-stretch 2.7-6-slim-stretch
            docker push airhorns/python-node:2.7-6-slim-stretch
            
  
  "build 3.7.0-10.10.0-alpine3.8":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.7.0-10.10.0-alpine3.8 dockerfiles/3.7.0-10.10.0-alpine3.8/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.7.0-10.10.0-alpine3.8 python --version
            docker run airhorns/python-node:3.7.0-10.10.0-alpine3.8 node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.7.0-10.10.0-alpine3.8

            
            docker tag airhorns/python-node:3.7.0-10.10.0-alpine3.8 latest-latest-alpine
            docker push airhorns/python-node:latest-latest-alpine
            
            docker tag airhorns/python-node:3.7.0-10.10.0-alpine3.8 latest-latest-alpine3.8
            docker push airhorns/python-node:latest-latest-alpine3.8
            
            docker tag airhorns/python-node:3.7.0-10.10.0-alpine3.8 latest-10-alpine
            docker push airhorns/python-node:latest-10-alpine
            
            docker tag airhorns/python-node:3.7.0-10.10.0-alpine3.8 latest-10-alpine3.8
            docker push airhorns/python-node:latest-10-alpine3.8
            
            docker tag airhorns/python-node:3.7.0-10.10.0-alpine3.8 3-latest-alpine
            docker push airhorns/python-node:3-latest-alpine
            
            docker tag airhorns/python-node:3.7.0-10.10.0-alpine3.8 3-latest-alpine3.8
            docker push airhorns/python-node:3-latest-alpine3.8
            
            docker tag airhorns/python-node:3.7.0-10.10.0-alpine3.8 3-10-alpine
            docker push airhorns/python-node:3-10-alpine
            
            docker tag airhorns/python-node:3.7.0-10.10.0-alpine3.8 3-10-alpine3.8
            docker push airhorns/python-node:3-10-alpine3.8
            
            docker tag airhorns/python-node:3.7.0-10.10.0-alpine3.8 3.7-latest-alpine
            docker push airhorns/python-node:3.7-latest-alpine
            
            docker tag airhorns/python-node:3.7.0-10.10.0-alpine3.8 3.7-latest-alpine3.8
            docker push airhorns/python-node:3.7-latest-alpine3.8
            
            docker tag airhorns/python-node:3.7.0-10.10.0-alpine3.8 3.7-10-alpine
            docker push airhorns/python-node:3.7-10-alpine
            
            docker tag airhorns/python-node:3.7.0-10.10.0-alpine3.8 3.7-10-alpine3.8
            docker push airhorns/python-node:3.7-10-alpine3.8
            
  
  "build 3.7.0-8.12.0-alpine3.8":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.7.0-8.12.0-alpine3.8 dockerfiles/3.7.0-8.12.0-alpine3.8/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.7.0-8.12.0-alpine3.8 python --version
            docker run airhorns/python-node:3.7.0-8.12.0-alpine3.8 node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.7.0-8.12.0-alpine3.8

            
            docker tag airhorns/python-node:3.7.0-8.12.0-alpine3.8 latest-8-alpine
            docker push airhorns/python-node:latest-8-alpine
            
            docker tag airhorns/python-node:3.7.0-8.12.0-alpine3.8 latest-8-alpine3.8
            docker push airhorns/python-node:latest-8-alpine3.8
            
            docker tag airhorns/python-node:3.7.0-8.12.0-alpine3.8 3-8-alpine
            docker push airhorns/python-node:3-8-alpine
            
            docker tag airhorns/python-node:3.7.0-8.12.0-alpine3.8 3-8-alpine3.8
            docker push airhorns/python-node:3-8-alpine3.8
            
            docker tag airhorns/python-node:3.7.0-8.12.0-alpine3.8 3.7-8-alpine
            docker push airhorns/python-node:3.7-8-alpine
            
            docker tag airhorns/python-node:3.7.0-8.12.0-alpine3.8 3.7-8-alpine3.8
            docker push airhorns/python-node:3.7-8-alpine3.8
            
  
  "build 3.7.0-6.14.4-alpine3.8":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.7.0-6.14.4-alpine3.8 dockerfiles/3.7.0-6.14.4-alpine3.8/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.7.0-6.14.4-alpine3.8 python --version
            docker run airhorns/python-node:3.7.0-6.14.4-alpine3.8 node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.7.0-6.14.4-alpine3.8

            
            docker tag airhorns/python-node:3.7.0-6.14.4-alpine3.8 latest-6-alpine
            docker push airhorns/python-node:latest-6-alpine
            
            docker tag airhorns/python-node:3.7.0-6.14.4-alpine3.8 latest-6-alpine3.8
            docker push airhorns/python-node:latest-6-alpine3.8
            
            docker tag airhorns/python-node:3.7.0-6.14.4-alpine3.8 3-6-alpine
            docker push airhorns/python-node:3-6-alpine
            
            docker tag airhorns/python-node:3.7.0-6.14.4-alpine3.8 3-6-alpine3.8
            docker push airhorns/python-node:3-6-alpine3.8
            
            docker tag airhorns/python-node:3.7.0-6.14.4-alpine3.8 3.7-6-alpine
            docker push airhorns/python-node:3.7-6-alpine
            
            docker tag airhorns/python-node:3.7.0-6.14.4-alpine3.8 3.7-6-alpine3.8
            docker push airhorns/python-node:3.7-6-alpine3.8
            
  
  "build 3.6.6-10.10.0-alpine3.8":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.6.6-10.10.0-alpine3.8 dockerfiles/3.6.6-10.10.0-alpine3.8/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.6.6-10.10.0-alpine3.8 python --version
            docker run airhorns/python-node:3.6.6-10.10.0-alpine3.8 node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.6.6-10.10.0-alpine3.8

            
            docker tag airhorns/python-node:3.6.6-10.10.0-alpine3.8 3.6-latest-alpine
            docker push airhorns/python-node:3.6-latest-alpine
            
            docker tag airhorns/python-node:3.6.6-10.10.0-alpine3.8 3.6-latest-alpine3.8
            docker push airhorns/python-node:3.6-latest-alpine3.8
            
            docker tag airhorns/python-node:3.6.6-10.10.0-alpine3.8 3.6-10-alpine
            docker push airhorns/python-node:3.6-10-alpine
            
            docker tag airhorns/python-node:3.6.6-10.10.0-alpine3.8 3.6-10-alpine3.8
            docker push airhorns/python-node:3.6-10-alpine3.8
            
  
  "build 3.6.6-8.12.0-alpine3.8":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.6.6-8.12.0-alpine3.8 dockerfiles/3.6.6-8.12.0-alpine3.8/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.6.6-8.12.0-alpine3.8 python --version
            docker run airhorns/python-node:3.6.6-8.12.0-alpine3.8 node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.6.6-8.12.0-alpine3.8

            
            docker tag airhorns/python-node:3.6.6-8.12.0-alpine3.8 3.6-8-alpine
            docker push airhorns/python-node:3.6-8-alpine
            
            docker tag airhorns/python-node:3.6.6-8.12.0-alpine3.8 3.6-8-alpine3.8
            docker push airhorns/python-node:3.6-8-alpine3.8
            
  
  "build 3.6.6-6.14.4-alpine3.8":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.6.6-6.14.4-alpine3.8 dockerfiles/3.6.6-6.14.4-alpine3.8/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.6.6-6.14.4-alpine3.8 python --version
            docker run airhorns/python-node:3.6.6-6.14.4-alpine3.8 node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.6.6-6.14.4-alpine3.8

            
            docker tag airhorns/python-node:3.6.6-6.14.4-alpine3.8 3.6-6-alpine
            docker push airhorns/python-node:3.6-6-alpine
            
            docker tag airhorns/python-node:3.6.6-6.14.4-alpine3.8 3.6-6-alpine3.8
            docker push airhorns/python-node:3.6-6-alpine3.8
            
  
  "build 3.5.6-10.10.0-alpine3.8":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.5.6-10.10.0-alpine3.8 dockerfiles/3.5.6-10.10.0-alpine3.8/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.5.6-10.10.0-alpine3.8 python --version
            docker run airhorns/python-node:3.5.6-10.10.0-alpine3.8 node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.5.6-10.10.0-alpine3.8

            
            docker tag airhorns/python-node:3.5.6-10.10.0-alpine3.8 3.5-latest-alpine
            docker push airhorns/python-node:3.5-latest-alpine
            
            docker tag airhorns/python-node:3.5.6-10.10.0-alpine3.8 3.5-latest-alpine3.8
            docker push airhorns/python-node:3.5-latest-alpine3.8
            
            docker tag airhorns/python-node:3.5.6-10.10.0-alpine3.8 3.5-10-alpine
            docker push airhorns/python-node:3.5-10-alpine
            
            docker tag airhorns/python-node:3.5.6-10.10.0-alpine3.8 3.5-10-alpine3.8
            docker push airhorns/python-node:3.5-10-alpine3.8
            
  
  "build 3.5.6-8.12.0-alpine3.8":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.5.6-8.12.0-alpine3.8 dockerfiles/3.5.6-8.12.0-alpine3.8/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.5.6-8.12.0-alpine3.8 python --version
            docker run airhorns/python-node:3.5.6-8.12.0-alpine3.8 node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.5.6-8.12.0-alpine3.8

            
            docker tag airhorns/python-node:3.5.6-8.12.0-alpine3.8 3.5-8-alpine
            docker push airhorns/python-node:3.5-8-alpine
            
            docker tag airhorns/python-node:3.5.6-8.12.0-alpine3.8 3.5-8-alpine3.8
            docker push airhorns/python-node:3.5-8-alpine3.8
            
  
  "build 3.5.6-6.14.4-alpine3.8":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:3.5.6-6.14.4-alpine3.8 dockerfiles/3.5.6-6.14.4-alpine3.8/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:3.5.6-6.14.4-alpine3.8 python --version
            docker run airhorns/python-node:3.5.6-6.14.4-alpine3.8 node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:3.5.6-6.14.4-alpine3.8

            
            docker tag airhorns/python-node:3.5.6-6.14.4-alpine3.8 3.5-6-alpine
            docker push airhorns/python-node:3.5-6-alpine
            
            docker tag airhorns/python-node:3.5.6-6.14.4-alpine3.8 3.5-6-alpine3.8
            docker push airhorns/python-node:3.5-6-alpine3.8
            
  
  "build 2.7.15-10.10.0-alpine3.8":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:2.7.15-10.10.0-alpine3.8 dockerfiles/2.7.15-10.10.0-alpine3.8/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:2.7.15-10.10.0-alpine3.8 python --version
            docker run airhorns/python-node:2.7.15-10.10.0-alpine3.8 node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:2.7.15-10.10.0-alpine3.8

            
            docker tag airhorns/python-node:2.7.15-10.10.0-alpine3.8 2-latest-alpine
            docker push airhorns/python-node:2-latest-alpine
            
            docker tag airhorns/python-node:2.7.15-10.10.0-alpine3.8 2-latest-alpine3.8
            docker push airhorns/python-node:2-latest-alpine3.8
            
            docker tag airhorns/python-node:2.7.15-10.10.0-alpine3.8 2-10-alpine
            docker push airhorns/python-node:2-10-alpine
            
            docker tag airhorns/python-node:2.7.15-10.10.0-alpine3.8 2-10-alpine3.8
            docker push airhorns/python-node:2-10-alpine3.8
            
            docker tag airhorns/python-node:2.7.15-10.10.0-alpine3.8 2.7-latest-alpine
            docker push airhorns/python-node:2.7-latest-alpine
            
            docker tag airhorns/python-node:2.7.15-10.10.0-alpine3.8 2.7-latest-alpine3.8
            docker push airhorns/python-node:2.7-latest-alpine3.8
            
            docker tag airhorns/python-node:2.7.15-10.10.0-alpine3.8 2.7-10-alpine
            docker push airhorns/python-node:2.7-10-alpine
            
            docker tag airhorns/python-node:2.7.15-10.10.0-alpine3.8 2.7-10-alpine3.8
            docker push airhorns/python-node:2.7-10-alpine3.8
            
  
  "build 2.7.15-8.12.0-alpine3.8":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:2.7.15-8.12.0-alpine3.8 dockerfiles/2.7.15-8.12.0-alpine3.8/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:2.7.15-8.12.0-alpine3.8 python --version
            docker run airhorns/python-node:2.7.15-8.12.0-alpine3.8 node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:2.7.15-8.12.0-alpine3.8

            
            docker tag airhorns/python-node:2.7.15-8.12.0-alpine3.8 2-8-alpine
            docker push airhorns/python-node:2-8-alpine
            
            docker tag airhorns/python-node:2.7.15-8.12.0-alpine3.8 2-8-alpine3.8
            docker push airhorns/python-node:2-8-alpine3.8
            
            docker tag airhorns/python-node:2.7.15-8.12.0-alpine3.8 2.7-8-alpine
            docker push airhorns/python-node:2.7-8-alpine
            
            docker tag airhorns/python-node:2.7.15-8.12.0-alpine3.8 2.7-8-alpine3.8
            docker push airhorns/python-node:2.7-8-alpine3.8
            
  
  "build 2.7.15-6.14.4-alpine3.8":
    machine:
      enabled: true
    steps:
      - checkout
      - run:
          name: Build container
          command: docker build -t airhorns/python-node:2.7.15-6.14.4-alpine3.8 dockerfiles/2.7.15-6.14.4-alpine3.8/.
      - run:
          name: Test container
          command: |
            docker run airhorns/python-node:airhorns/python-node:2.7.15-6.14.4-alpine3.8 python --version
            docker run airhorns/python-node:2.7.15-6.14.4-alpine3.8 node --version
      - run:
          name: Push container if master
          command: |
            if [ "$CIRCLE_BRANCH" != "master" ]; then
              echo "Not pushing because we're not on master"
              exit 0
            fi

            echo "$DOCKER_HUB_PASSWORD" | docker login --username airhorns --password-stdin
            docker push airhorns/python-node:2.7.15-6.14.4-alpine3.8

            
            docker tag airhorns/python-node:2.7.15-6.14.4-alpine3.8 2-6-alpine
            docker push airhorns/python-node:2-6-alpine
            
            docker tag airhorns/python-node:2.7.15-6.14.4-alpine3.8 2-6-alpine3.8
            docker push airhorns/python-node:2-6-alpine3.8
            
            docker tag airhorns/python-node:2.7.15-6.14.4-alpine3.8 2.7-6-alpine
            docker push airhorns/python-node:2.7-6-alpine
            
            docker tag airhorns/python-node:2.7.15-6.14.4-alpine3.8 2.7-6-alpine3.8
            docker push airhorns/python-node:2.7-6-alpine3.8
            
  

workflows:
  version: 2
  build:
    jobs:
    
      - "build 3.7.0-10.10.0-stretch"
    
      - "build 3.7.0-8.12.0-stretch"
    
      - "build 3.7.0-6.14.4-stretch"
    
      - "build 3.6.6-10.10.0-stretch"
    
      - "build 3.6.6-8.12.0-stretch"
    
      - "build 3.6.6-6.14.4-stretch"
    
      - "build 3.5.6-10.10.0-stretch"
    
      - "build 3.5.6-8.12.0-stretch"
    
      - "build 3.5.6-6.14.4-stretch"
    
      - "build 2.7.15-10.10.0-stretch"
    
      - "build 2.7.15-8.12.0-stretch"
    
      - "build 2.7.15-6.14.4-stretch"
    
      - "build 3.7.0-10.10.0-slim-stretch"
    
      - "build 3.7.0-8.12.0-slim-stretch"
    
      - "build 3.7.0-6.14.4-slim-stretch"
    
      - "build 3.6.6-10.10.0-slim-stretch"
    
      - "build 3.6.6-8.12.0-slim-stretch"
    
      - "build 3.6.6-6.14.4-slim-stretch"
    
      - "build 3.5.6-10.10.0-slim-stretch"
    
      - "build 3.5.6-8.12.0-slim-stretch"
    
      - "build 3.5.6-6.14.4-slim-stretch"
    
      - "build 2.7.15-10.10.0-slim-stretch"
    
      - "build 2.7.15-8.12.0-slim-stretch"
    
      - "build 2.7.15-6.14.4-slim-stretch"
    
      - "build 3.7.0-10.10.0-alpine3.8"
    
      - "build 3.7.0-8.12.0-alpine3.8"
    
      - "build 3.7.0-6.14.4-alpine3.8"
    
      - "build 3.6.6-10.10.0-alpine3.8"
    
      - "build 3.6.6-8.12.0-alpine3.8"
    
      - "build 3.6.6-6.14.4-alpine3.8"
    
      - "build 3.5.6-10.10.0-alpine3.8"
    
      - "build 3.5.6-8.12.0-alpine3.8"
    
      - "build 3.5.6-6.14.4-alpine3.8"
    
      - "build 2.7.15-10.10.0-alpine3.8"
    
      - "build 2.7.15-8.12.0-alpine3.8"
    
      - "build 2.7.15-6.14.4-alpine3.8"
    